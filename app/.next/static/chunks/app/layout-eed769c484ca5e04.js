(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{4737:function(e,n,t){Promise.resolve().then(t.bind(t,3827)),Promise.resolve().then(t.bind(t,2644)),Promise.resolve().then(t.t.bind(t,1371,23)),Promise.resolve().then(t.t.bind(t,2853,23))},3827:function(e,n,t){"use strict";t.r(n);var r=t(7437);t(2265);var s=t(1396),a=t.n(s),l=t(2644);n.default=()=>{let{user:e,isLoading:n,logout:t}=(0,l.useAuth)(),s=async()=>{await t()};return(0,r.jsx)("header",{className:"bg-white shadow",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center",children:[(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsx)(a(),{href:"/",className:"text-2xl font-bold text-primary-600",children:"KeywordPulse"})}),(0,r.jsx)("nav",{children:(0,r.jsxs)("ul",{className:"flex space-x-4",children:[(0,r.jsx)("li",{children:(0,r.jsx)(a(),{href:"/",className:"text-gray-600 hover:text-primary-600",children:"홈"})}),n?(0,r.jsx)("li",{className:"text-gray-400",children:(0,r.jsx)("span",{className:"inline-flex items-center",children:(0,r.jsxs)("svg",{className:"animate-spin h-4 w-4 mr-1",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})}):e?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("li",{children:(0,r.jsx)(a(),{href:"/profile",className:"text-gray-600 hover:text-primary-600",children:"내 프로필"})}),(0,r.jsx)("li",{children:(0,r.jsx)("button",{onClick:s,className:"text-gray-600 hover:text-primary-600",children:"로그아웃"})})]}):(0,r.jsx)("li",{children:(0,r.jsx)(a(),{href:"/login",className:"text-gray-600 hover:text-primary-600",children:"로그인"})})]})})]})})}},2644:function(e,n,t){"use strict";t.r(n),t.d(n,{AuthProvider:function(){return i},useAuth:function(){return c}});var r=t(7437),s=t(2265),a=t(2445);let l=(0,s.createContext)({user:null,isLoading:!0,logout:async()=>{},refreshSession:async()=>{}}),c=()=>(0,s.useContext)(l),i=e=>{let{children:n}=e,[t,c]=(0,s.useState)(null),[i,o]=(0,s.useState)(!0),u=async()=>{try{o(!0);let{data:e}=await (0,a.Gg)(),n=await (0,a.PR)();c(n||null)}catch(e){console.error("세션 새로고침 중 오류:",e),c(null)}finally{o(!1)}},h=async()=>{try{o(!0),await (0,a.w7)(),c(null)}catch(e){console.error("로그아웃 중 오류:",e)}finally{o(!1)}};return(0,s.useEffect)(()=>{let e=async()=>{await u()};e()},[]),(0,s.useEffect)(()=>{let e=setInterval(()=>{u()},36e5);return()=>clearInterval(e)},[]),(0,r.jsx)(l.Provider,{value:{user:t,isLoading:i,logout:h,refreshSession:u},children:n})}},2445:function(e,n,t){"use strict";t.d(n,{Gg:function(){return h},PR:function(){return x},w7:function(){return u},y1:function(){return i},zB:function(){return o}});var r=t(4756),s=t(2601);let a=s.env.NEXT_PUBLIC_SUPABASE_URL||"https://example.supabase.co",l=s.env.NEXT_PUBLIC_SUPABASE_ANON_KEY||"example-anon-key";s.env.NEXT_PUBLIC_SUPABASE_URL&&s.env.NEXT_PUBLIC_SUPABASE_ANON_KEY||console.warn("Supabase 환경변수가 설정되지 않았습니다. 인증 기능이 동작하지 않을 수 있습니다.");let c=(0,r.eI)(a,l);async function i(e,n){return s.env.NEXT_PUBLIC_SUPABASE_URL?c.auth.signUp({email:e,password:n}):(console.warn("Supabase 환경 변수가 없어 모의 응답을 반환합니다."),{data:null,error:{message:"개발 환경: Supabase 설정이 필요합니다."}})}async function o(e,n){return s.env.NEXT_PUBLIC_SUPABASE_URL?c.auth.signInWithPassword({email:e,password:n}):(console.warn("Supabase 환경 변수가 없어 모의 응답을 반환합니다."),{data:null,error:{message:"개발 환경: Supabase 설정이 필요합니다."}})}async function u(){return s.env.NEXT_PUBLIC_SUPABASE_URL?c.auth.signOut():(console.warn("Supabase 환경 변수가 없어 모의 응답을 반환합니다."),{error:null})}async function h(){return s.env.NEXT_PUBLIC_SUPABASE_URL?c.auth.getSession():(console.warn("Supabase 환경 변수가 없어 모의 응답을 반환합니다."),{data:{session:null},error:null})}async function x(){if(!s.env.NEXT_PUBLIC_SUPABASE_URL)return console.warn("Supabase 환경 변수가 없어 모의 응답을 반환합니다."),null;let{data:{user:e}}=await c.auth.getUser();return e}},2853:function(){},1371:function(e){e.exports={style:{fontFamily:"'__Inter_d65c78', '__Inter_Fallback_d65c78'",fontStyle:"normal"},className:"__className_d65c78"}}},function(e){e.O(0,[687,396,971,472,744],function(){return e(e.s=4737)}),_N_E=e.O()}]);