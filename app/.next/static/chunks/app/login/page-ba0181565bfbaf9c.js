(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{1438:function(e,n,s){Promise.resolve().then(s.bind(s,8123))},8123:function(e,n,s){"use strict";s.r(n),s.d(n,{default:function(){return o}});var t=s(7437),a=s(2265),r=s(4033),l=s(1396),i=s.n(l),c=s(2445);function o(){let[e,n]=(0,a.useState)(""),[s,l]=(0,a.useState)(""),[o,u]=(0,a.useState)(!1),[m,d]=(0,a.useState)(null),[h,x]=(0,a.useState)("login"),p=(0,r.useRouter)(),f=async n=>{n.preventDefault(),d(null),u(!0);try{if(!e.trim()||!s.trim())throw Error("이메일과 비밀번호를 입력해주세요.");if("login"===h){let{data:n,error:t}=await (0,c.zB)(e,s);if(t)throw Error("로그인에 실패했습니다. 이메일과 비밀번호를 확인해주세요.");console.log("로그인 성공:",n),p.push("/")}else{let{data:n,error:t}=await (0,c.y1)(e,s);if(t){if(t.message.includes("already"))throw Error("이미 가입된 이메일입니다. 로그인을 시도해주세요.");throw Error("회원가입에 실패했습니다: "+t.message)}console.log("회원가입 성공:",n),x("login"),d("회원가입이 완료되었습니다. 로그인해주세요.")}}catch(e){d(e.message)}finally{u(!1)}};return(0,t.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,t.jsxs)("div",{className:"text-center mb-10",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-primary-600 mb-2",children:"login"===h?"로그인":"회원가입"}),(0,t.jsxs)("p",{className:"text-gray-600",children:["KeywordPulse에 ","login"===h?"로그인하여 더 많은 기능을 이용하세요.":"가입하고 키워드 분석을 시작하세요."]})]}),(0,t.jsxs)("div",{className:"card",children:[m&&(0,t.jsx)("div",{className:"p-3 mb-4 rounded-md ".concat(m.includes("완료")?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:m}),(0,t.jsxs)("form",{onSubmit:f,children:[(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"이메일"}),(0,t.jsx)("input",{id:"email",type:"email",value:e,onChange:e=>n(e.target.value),className:"input",placeholder:"example@email.com",disabled:o})]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"비밀번호"}),(0,t.jsx)("input",{id:"password",type:"password",value:s,onChange:e=>l(e.target.value),className:"input",placeholder:"********",disabled:o})]}),(0,t.jsx)("button",{type:"submit",className:"btn btn-primary w-full",disabled:o,children:o?(0,t.jsxs)("span",{className:"flex items-center justify-center",children:[(0,t.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"처리 중..."]}):"login"===h?"로그인":"회원가입"})]}),(0,t.jsx)("div",{className:"mt-4 text-center text-sm",children:"login"===h?(0,t.jsxs)("p",{children:["계정이 없으신가요?"," ",(0,t.jsx)("button",{onClick:()=>x("signup"),className:"text-primary-600 hover:underline",children:"회원가입"})]}):(0,t.jsxs)("p",{children:["이미 계정이 있으신가요?"," ",(0,t.jsx)("button",{onClick:()=>x("login"),className:"text-primary-600 hover:underline",children:"로그인"})]})})]}),(0,t.jsx)("div",{className:"mt-6 text-center",children:(0,t.jsx)(i(),{href:"/",className:"text-gray-500 hover:text-primary-600 text-sm",children:"← 홈으로 돌아가기"})})]})}},2445:function(e,n,s){"use strict";s.d(n,{Gg:function(){return m},PR:function(){return d},w7:function(){return u},y1:function(){return c},zB:function(){return o}});var t=s(4756),a=s(2601);let r=a.env.NEXT_PUBLIC_SUPABASE_URL||"https://example.supabase.co",l=a.env.NEXT_PUBLIC_SUPABASE_ANON_KEY||"example-anon-key";a.env.NEXT_PUBLIC_SUPABASE_URL&&a.env.NEXT_PUBLIC_SUPABASE_ANON_KEY||console.warn("Supabase 환경변수가 설정되지 않았습니다. 인증 기능이 동작하지 않을 수 있습니다.");let i=(0,t.eI)(r,l);async function c(e,n){return a.env.NEXT_PUBLIC_SUPABASE_URL?i.auth.signUp({email:e,password:n}):(console.warn("Supabase 환경 변수가 없어 모의 응답을 반환합니다."),{data:null,error:{message:"개발 환경: Supabase 설정이 필요합니다."}})}async function o(e,n){return a.env.NEXT_PUBLIC_SUPABASE_URL?i.auth.signInWithPassword({email:e,password:n}):(console.warn("Supabase 환경 변수가 없어 모의 응답을 반환합니다."),{data:null,error:{message:"개발 환경: Supabase 설정이 필요합니다."}})}async function u(){return a.env.NEXT_PUBLIC_SUPABASE_URL?i.auth.signOut():(console.warn("Supabase 환경 변수가 없어 모의 응답을 반환합니다."),{error:null})}async function m(){return a.env.NEXT_PUBLIC_SUPABASE_URL?i.auth.getSession():(console.warn("Supabase 환경 변수가 없어 모의 응답을 반환합니다."),{data:{session:null},error:null})}async function d(){if(!a.env.NEXT_PUBLIC_SUPABASE_URL)return console.warn("Supabase 환경 변수가 없어 모의 응답을 반환합니다."),null;let{data:{user:e}}=await i.auth.getUser();return e}},4033:function(e,n,s){e.exports=s(94)}},function(e){e.O(0,[687,396,971,472,744],function(){return e(e.s=1438)}),_N_E=e.O()}]);