(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{3011:function(e,t,s){Promise.resolve().then(s.bind(s,1661))},1661:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return m}});var r=s(7437),a=s(2265),n=e=>{let{keywords:t}=e,[s,n]=(0,a.useState)("score"),[l,i]=(0,a.useState)("desc"),c=e=>{e===s?i("asc"===l?"desc":"asc"):(n(e),i("desc"))},o=[...t].sort((e,t)=>{let r=e[s],a=t[s];return"string"==typeof r&&"string"==typeof a?"asc"===l?r.localeCompare(a):a.localeCompare(r):"asc"===l?r-a:a-r}),d=e=>e>=80?(0,r.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"\uD83D\uDFE2 강력 추천"}):e>=50?(0,r.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"\uD83D\uDFE1 추천"}):(0,r.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"⚪ 낮은 우선순위"}),x=e=>e!==s?null:"asc"===l?" ↑":" ↓";return(0,r.jsxs)("div",{className:"card overflow-x-auto",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"키워드 분석 결과"}),(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,r.jsx)("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[(0,r.jsxs)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>c("keyword"),children:["키워드",x("keyword")]}),(0,r.jsxs)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>c("monthlySearches"),children:["월간 검색량",x("monthlySearches")]}),(0,r.jsxs)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>c("competitionRate"),children:["경쟁률",x("competitionRate")]}),(0,r.jsxs)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>c("score"),children:["점수",x("score")]}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"추천도"})]})}),(0,r.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:o.map((e,t)=>(0,r.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap font-medium",children:e.keyword}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.monthlySearches.toLocaleString()}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.competitionRate.toFixed(2)}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap font-semibold",children:e.score}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:d(e.score)})]},t))})]})]})},l=s(7393),i=e=>{let{analysisText:t}=e;return t?(0,r.jsxs)("div",{className:"card",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold",children:"분석 인사이트"}),(0,r.jsxs)("button",{onClick:()=>{navigator.clipboard.writeText(t).then(()=>{alert("분석 텍스트가 클립보드에 복사되었습니다.")}).catch(e=>{console.error("텍스트 복사 실패:",e)})},className:"text-sm text-gray-500 hover:text-primary-600 flex items-center",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),"복사"]})]}),(0,r.jsx)("div",{className:"prose prose-sm max-w-none overflow-y-auto max-h-[350px] text-gray-800",children:(0,r.jsx)(l.UG,{children:t})})]}):(0,r.jsx)("div",{className:"card bg-gray-50 min-h-[200px] flex items-center justify-center text-gray-500",children:(0,r.jsx)("p",{children:"키워드 분석 후 인사이트가 이곳에 표시됩니다."})})},c=e=>{let{keywords:t,analysisText:s,timestamp:n}=e,[l,i]=(0,a.useState)(!1),[c,o]=(0,a.useState)(!1),[d,x]=(0,a.useState)(null),m=async()=>{if(!l){i(!0);try{let e=await fetch("/api/sync",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({keywords:t,timestamp:n})});if(!e.ok)throw Error("저장 API 오류: ".concat(e.status));let s=await e.json();if(s.success&&s.spreadsheetUrl)x(s.spreadsheetUrl),alert("Google Sheets에 키워드가 저장되었습니다.");else throw Error("스프레드시트 URL을 받지 못했습니다.")}catch(e){console.error("Google Sheets 저장 중 오류 발생:",e),alert("저장 중 오류가 발생했습니다. 환경변수를 확인해주세요.")}finally{i(!1)}}},p=async()=>{if(!c){o(!0);try{let e=await fetch("/api/notify",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({analysisText:s})});if(!e.ok)throw Error("전송 API 오류: ".concat(e.status));let t=await e.json();if(t.success)alert("분석 결과가 Telegram으로 전송되었습니다.");else throw Error("Telegram 메시지 전송에 실패했습니다.")}catch(e){console.error("Telegram 전송 중 오류 발생:",e),alert("전송 중 오류가 발생했습니다. 환경변수를 확인해주세요.")}finally{o(!1)}}};return(0,r.jsxs)("div",{className:"card bg-gray-50",children:[(0,r.jsx)("h3",{className:"text-lg font-medium mb-4",children:"결과 공유하기"}),(0,r.jsxs)("div",{className:"flex flex-col space-y-3",children:[(0,r.jsx)("button",{onClick:m,disabled:l,className:"btn btn-primary flex items-center justify-center",children:l?(0,r.jsxs)("span",{className:"flex items-center",children:[(0,r.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"저장 중..."]}):(0,r.jsxs)("span",{className:"flex items-center",children:[(0,r.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"구글 시트에 저장"]})}),d&&(0,r.jsx)("a",{href:d,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 text-sm hover:underline text-center",children:"스프레드시트 열기 ↗"}),(0,r.jsx)("button",{onClick:p,disabled:c,className:"btn btn-secondary flex items-center justify-center",children:c?(0,r.jsxs)("span",{className:"flex items-center",children:[(0,r.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-gray-800",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"전송 중..."]}):(0,r.jsxs)("span",{className:"flex items-center",children:[(0,r.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})}),"텔레그램으로 전송"]})})]})]})},o=s(8475),d=s.n(o),x=e=>{let{data:t}=e;return(0,r.jsx)(d(),{id:"json-ld",type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(t)},strategy:"beforeInteractive"})};function m(){let[e,t]=(0,a.useState)(""),[s,l]=(0,a.useState)(!1),[o,d]=(0,a.useState)([]),[m,p]=(0,a.useState)(""),[h,y]=(0,a.useState)(""),u=async t=>{if(t.preventDefault(),e.trim()){l(!0),d([]),p("");try{let t=await fetch("/api/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({keyword:e.trim()})});if(!t.ok)throw Error("검색 API 오류: ".concat(t.status));let s=await t.json();if(d(s.keywords),y(new Date().toISOString()),s.keywords&&s.keywords.length>0){let e=s.keywords.map(e=>e.keyword),t=await fetch("/api/analyze",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({keywords:e})});if(!t.ok)throw Error("분석 API 오류: ".concat(t.status));let r=await t.json();p(r.analysisText)}}catch(e){console.error("검색 및 분석 중 오류 발생:",e),alert("검색 중 오류가 발생했습니다. 다시 시도해주세요.")}finally{l(!1)}}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(x,{data:{"@context":"https://schema.org","@type":"SoftwareApplication",name:"KeywordPulse",applicationCategory:"BusinessApplication",operatingSystem:"Web",offers:{"@type":"Offer",price:"0",priceCurrency:"KRW"},aggregateRating:{"@type":"AggregateRating",ratingValue:"4.8",ratingCount:"24"}}}),(0,r.jsx)(x,{data:{"@context":"https://schema.org","@type":"FAQPage",mainEntity:[{question:"KeywordPulse는 어떤 서비스인가요?",answer:"KeywordPulse는 마케터와 콘텐츠 제작자를 위한 실시간 키워드 분석 및 추천 플랫폼입니다. RAG 기반의 자연어 분석으로 키워드 인사이트를 제공합니다."},{question:"키워드 분석 결과를 어떻게 저장할 수 있나요?",answer:"Google Sheets와 연동하여 분석 결과를 자동으로 저장하거나, Telegram으로 전송하여 공유할 수 있습니다."},{question:"무료로 사용할 수 있나요?",answer:"네, KeywordPulse는 현재 무료로 제공되고 있습니다. 회원가입 후 모든 기능을 이용하실 수 있습니다."}].map(e=>({"@type":"Question",name:e.question,acceptedAnswer:{"@type":"Answer",text:e.answer}}))}}),(0,r.jsxs)("div",{className:"flex flex-col gap-8",children:[(0,r.jsxs)("section",{className:"text-center",children:[(0,r.jsx)("h1",{className:"text-4xl font-bold text-primary-600 mb-2",children:"KeywordPulse"}),(0,r.jsx)("p",{className:"text-gray-600 text-xl mb-8",children:"키워드 검색부터 분석, 저장, 알림까지 한번에"})]}),(0,r.jsx)("section",{className:"max-w-2xl mx-auto w-full",children:(0,r.jsxs)("form",{onSubmit:u,className:"flex flex-col md:flex-row gap-2",children:[(0,r.jsx)("input",{type:"text",value:e,onChange:e=>t(e.target.value),placeholder:"예: AI 마케팅",className:"input flex-grow py-3",disabled:s}),(0,r.jsx)("button",{type:"submit",className:"btn btn-primary py-3 min-w-20",disabled:s,children:s?"검색 중...":"키워드 분석"})]})}),s&&(0,r.jsxs)("div",{className:"text-center py-8",children:[(0,r.jsx)("div",{className:"animate-spin w-12 h-12 border-4 border-primary-500 border-t-transparent rounded-full mx-auto mb-4"}),(0,r.jsx)("p",{children:"키워드를 분석 중입니다..."})]}),o.length>0&&(0,r.jsxs)("section",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,r.jsx)("div",{className:"lg:col-span-2",children:(0,r.jsx)(n,{keywords:o})}),(0,r.jsxs)("div",{className:"lg:col-span-1 flex flex-col gap-4",children:[(0,r.jsx)(i,{analysisText:m}),m&&(0,r.jsx)(c,{keywords:o,analysisText:m,timestamp:h})]})]}),!o.length&&!s&&(0,r.jsxs)("section",{className:"text-center py-6",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-700 mb-4",children:"인기 검색 키워드"}),(0,r.jsx)("div",{className:"flex flex-wrap justify-center gap-2",children:["AI 마케팅","콘텐츠 전략","SNS 광고","이커머스 트렌드","디지털 마케팅"].map(e=>(0,r.jsx)("button",{onClick:()=>t(e),className:"px-3 py-1 bg-gray-100 hover:bg-gray-200 rounded-full text-sm text-gray-700",children:e},e))})]})]})]})}}},function(e){e.O(0,[589,971,472,744],function(){return e(e.s=3011)}),_N_E=e.O()}]);