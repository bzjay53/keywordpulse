(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[178],{9436:function(e,s,n){Promise.resolve().then(n.bind(n,8166))},8166:function(e,s,n){"use strict";n.r(s),n.d(s,{default:function(){return c}});var t=n(7437),a=n(2265),r=n(4033),l=n(2644);function c(){let{user:e,isLoading:s}=(0,l.useAuth)(),n=(0,r.useRouter)();return((0,a.useEffect)(()=>{s||e||n.push("/login")},[e,s,n]),s||!e)?(0,t.jsx)("div",{className:"flex justify-center items-center min-h-[400px]",children:(0,t.jsxs)("svg",{className:"animate-spin h-8 w-8 text-primary-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}):(0,t.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-primary-600 mb-2",children:"내 프로필"}),(0,t.jsx)("p",{className:"text-gray-600",children:"사용자 정보 및 설정을 관리합니다."})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"card",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"기본 정보"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"이메일"}),(0,t.jsx)("p",{className:"font-medium",children:e.email})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"마지막 로그인"}),(0,t.jsx)("p",{className:"font-medium",children:e.last_sign_in_at?new Date(e.last_sign_in_at).toLocaleString("ko-KR"):"정보 없음"})]})]})]}),(0,t.jsxs)("div",{className:"card",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"내 활동"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"키워드 검색 횟수"}),(0,t.jsx)("p",{className:"font-medium",children:"12회"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"저장된 키워드 세트"}),(0,t.jsx)("p",{className:"font-medium",children:"3개"})]})]})]}),(0,t.jsxs)("div",{className:"card md:col-span-2",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"계정 설정"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("button",{className:"btn btn-secondary",children:"비밀번호 변경"}),(0,t.jsx)("button",{className:"btn btn-outline text-red-600 border-red-600 hover:bg-red-50",children:"계정 삭제"})]})]})]})]})}},2644:function(e,s,n){"use strict";n.r(s),n.d(s,{AuthProvider:function(){return i},useAuth:function(){return c}});var t=n(7437),a=n(2265),r=n(2445);let l=(0,a.createContext)({user:null,isLoading:!0,logout:async()=>{},refreshSession:async()=>{}}),c=()=>(0,a.useContext)(l),i=e=>{let{children:s}=e,[n,c]=(0,a.useState)(null),[i,u]=(0,a.useState)(!0),o=async()=>{try{u(!0);let{data:e}=await (0,r.Gg)(),s=await (0,r.PR)();c(s||null)}catch(e){console.error("세션 새로고침 중 오류:",e),c(null)}finally{u(!1)}},d=async()=>{try{u(!0),await (0,r.w7)(),c(null)}catch(e){console.error("로그아웃 중 오류:",e)}finally{u(!1)}};return(0,a.useEffect)(()=>{let e=async()=>{await o()};e()},[]),(0,a.useEffect)(()=>{let e=setInterval(()=>{o()},36e5);return()=>clearInterval(e)},[]),(0,t.jsx)(l.Provider,{value:{user:n,isLoading:i,logout:d,refreshSession:o},children:s})}},2445:function(e,s,n){"use strict";n.d(s,{Gg:function(){return d},PR:function(){return x},w7:function(){return o},y1:function(){return i},zB:function(){return u}});var t=n(4756),a=n(2601);let r=a.env.NEXT_PUBLIC_SUPABASE_URL||"https://example.supabase.co",l=a.env.NEXT_PUBLIC_SUPABASE_ANON_KEY||"example-anon-key";a.env.NEXT_PUBLIC_SUPABASE_URL&&a.env.NEXT_PUBLIC_SUPABASE_ANON_KEY||console.warn("Supabase 환경변수가 설정되지 않았습니다. 인증 기능이 동작하지 않을 수 있습니다.");let c=(0,t.eI)(r,l);async function i(e,s){return a.env.NEXT_PUBLIC_SUPABASE_URL?c.auth.signUp({email:e,password:s}):(console.warn("Supabase 환경 변수가 없어 모의 응답을 반환합니다."),{data:null,error:{message:"개발 환경: Supabase 설정이 필요합니다."}})}async function u(e,s){return a.env.NEXT_PUBLIC_SUPABASE_URL?c.auth.signInWithPassword({email:e,password:s}):(console.warn("Supabase 환경 변수가 없어 모의 응답을 반환합니다."),{data:null,error:{message:"개발 환경: Supabase 설정이 필요합니다."}})}async function o(){return a.env.NEXT_PUBLIC_SUPABASE_URL?c.auth.signOut():(console.warn("Supabase 환경 변수가 없어 모의 응답을 반환합니다."),{error:null})}async function d(){return a.env.NEXT_PUBLIC_SUPABASE_URL?c.auth.getSession():(console.warn("Supabase 환경 변수가 없어 모의 응답을 반환합니다."),{data:{session:null},error:null})}async function x(){if(!a.env.NEXT_PUBLIC_SUPABASE_URL)return console.warn("Supabase 환경 변수가 없어 모의 응답을 반환합니다."),null;let{data:{user:e}}=await c.auth.getUser();return e}},4033:function(e,s,n){e.exports=n(94)}},function(e){e.O(0,[687,971,472,744],function(){return e(e.s=9436)}),_N_E=e.O()}]);